<html>
  <head>
    <meta charset="utf-8"/>
    <title>cinescript</title>
    <style>
      body {
        margin: 2em 2em;
        font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
      }
      #term .terminal {
        padding: 1ex 1ex;
      }
    </style>
    <link href="css/font-awesome.min.css" rel="stylesheet"/>
  </head>
  <body>
    <a href="https://github.com/arnehilmann/cinescript"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

    <h2>cinescript | replay your terminal sessions</h2>

    <em>plain files only, embedded in your webpage, hosted on your own server</em>

    <div
      data-typescript="data/1.typescript"
      data-timing="data/1.timing"
      data-autoplay="true"
      class="cinescript"></div>

    <div
      data-typescript="data/typescript"
      data-timing="data/timing"
      data-autoplay="true"
      class="cinescript"></div>

    <div>
      <tt><pre id="term" class="emit-play"></pre></tt>
    </div>

    <div class="btn-group">
      <button type="button" class="btn btn-default emit-restart">
        <i class="fa fa-refresh"></i>
      </button>
      <button type="button" class="btn btn-default emit-play" data-toggle="button">
        <i class="fa fa-play"></i>
      </button>
      <button type="button" class="btn btn-default emit-pause" data-toggle="button">
        <i class="fa fa-pause"></i>
      </button>
      <button type="button" class="btn btn-default emit-skip" data-toggle="button">
        <i class="fa fa-fast-forward"></i>
      </button>
    </div>

    <div class="footer">
      <em>
        based on <a href="https://github.com/chjj/term.js">term.js</a>,
        uses <a href="http://jquery.com/">jquery</a>
      </em>
    </div>
  </body>

  <script src="lib/term.js"></script>
  <script src="lib/jquery-2.1.1.min.js"></script>
  <script src="lib/extend-jquery.js"></script>
  <script src="lib/cinescript.js"></script>
  <script>
    $(document).ready(function() {
      init_cinescript($("#term")[0]);
      $('[class="cinescript"]').each(function() {
        var typescript_filename = this.getAttribute('data-typescript');
        var timing_filename = this.getAttribute('data-timing');
        var options = {'autoplay': this.getAttribute('data-autoplay') || false};
        var pre = document.createElement("pre");
        this.appendChild(document.createElement("tt").appendChild(pre));
        $.get(typescript_filename, function(typescript) {
          $.get(timing_filename, function(timing) {
            if (typescript && timing) {
              new CineScript(typescript, timing, pre, options);
            }
          }, "text");
        }, "text");
      });
    });
  </script>
</html>
